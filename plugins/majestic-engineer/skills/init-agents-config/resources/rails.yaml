# .agents.yml - Project configuration for Claude Code commands
# Generated by /majestic:init

config_version: {{config_version}}
default_branch: {{default_branch}}
app_status: development

# Tech Stack
tech_stack: rails
ruby_version: "{{ruby_version}}"      # Auto-detected from Gemfile
rails_version: "{{rails_version}}"    # Auto-detected from Gemfile
database: {{database}}                # sqlite | postgres | mysql
frontend: {{frontend}}                # hotwire | inertia | api-only
css: {{css}}                          # tailwind | bootstrap | none
assets: {{assets}}                    # propshaft | sprockets
js: {{js}}                            # importmap | esbuild | vite
deployment: {{deployment}}            # kamal | fly | heroku | render
extras:                               # Rails 8 Solid gems in use
  - solid_cache
  - solid_queue
  - solid_cable

# Workflow
task_management: {{task_management}}
workflow_labels:                      # Issue workflow states
  - backlog                           # New issues (removed when claiming)
  - in-progress                       # Being worked on
  - ready-for-review                  # PR opened
  - done                              # Completed
workflow: {{workflow}}
branch_naming: {{branch_naming}}
review_topics_path: docs/agents/review-topics.md

# Auto-preview markdown files (plans, PRDs, briefs, handoffs)
auto_preview: true

# Blueprint
blueprint:
  auto_create_task: true              # Auto-create task when /majestic:blueprint completes

# Session - Continuity and crash recovery
# session:
#   ledger: true                        # Enable session checkpointing
#   ledger_path: .claude/session_ledger.md  # Per-worktree session state

# Browser - Configuration for web-browser skill (browser-cdp)
# Uncomment and set if not using Chrome (default)
# browser:
#   type: brave       # chrome | brave | edge
#   debug_port: 9222  # CDP port (default: 9222)

# Toolbox - Build task configuration
# design_system_path: Auto-detected or generated by /majestic:ux-brief
toolbox:
  build_task:
    design_system_path: docs/design/design-system.md  # Remove if no design system

# Quality Gate - Reviewers run during quality checks
# Override: This list replaces defaults. Remove section to use defaults.
quality_gate:
  reviewers:
    - security-review           # OWASP security scanning
    - pragmatic-rails-reviewer  # Rails conventions and patterns
    - performance-reviewer      # N+1 queries, slow operations
    - test-reviewer             # Test coverage and quality
    - project-topics-reviewer   # Custom rules (if review_topics_path set)
    # Optional - uncomment to enable:
    # - dhh-code-reviewer       # Strict DHH/37signals Rails style
    # - data-integrity-reviewer # Migration safety (recommended for production)
    # - codex-reviewer          # External LLM (requires Codex CLI)
    # - gemini-reviewer         # External LLM (requires Gemini API)
