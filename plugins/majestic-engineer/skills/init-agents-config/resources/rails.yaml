# .agents.yml - Project configuration for Claude Code commands
# Generated by /majestic:init

config_version: {{config_version}}
app_status: development

# Owner Context - Tailors skill outputs to your experience level
# Skills adjust explanations based on this (beginner|intermediate|senior|expert)
owner:
  level: {{owner_level}}  # Default: expert
  # For multi-stack projects, specify per-technology:
  # rails: senior
  # react: intermediate

# Tech Stack
tech_stack: rails
ruby_version: "{{ruby_version}}"      # Auto-detected from Gemfile
rails_version: "{{rails_version}}"    # Auto-detected from Gemfile
database: {{database}}                # sqlite | postgres | mysql
frontend: {{frontend}}                # hotwire | inertia | api-only
css: {{css}}                          # tailwind | bootstrap | none
assets: {{assets}}                    # propshaft | sprockets
js: {{js}}                            # importmap | esbuild | vite
deployment: {{deployment}}            # kamal | fly | heroku | render
extras:                               # Rails 8 Solid gems in use
  - solid_cache
  - solid_queue
  - solid_cable

# Workflow
task_management: {{task_management}}
workflow_labels:                      # Issue workflow states
  - backlog                           # New issues (removed when claiming)
  - in-progress                       # Being worked on
  - ready-for-review                  # PR opened
  - done                              # Completed
workflow: {{workflow}}
branch_naming: {{branch_naming}}
lessons_path: .agents-os/lessons/         # Institutional memory for discovery

# Auto-preview markdown files (plans, PRDs, briefs, handoffs)
auto_preview: true

# Blueprint
blueprint:
  auto_create_task: true              # Auto-create task when /majestic:blueprint completes

# Session - Continuity and crash recovery
# session:
#   ledger: true                        # Enable session checkpointing
#   ledger_path: .agents-os/session_ledger.md  # Per-worktree session state

# Toolbox - Build task configuration
# design_system_path: Auto-detected or generated by /majestic:ux-brief
toolbox:
  build_task:
    design_system_path: docs/design/design-system.md  # Remove if no design system

# Quality Gate - Reviewers run during quality checks
# Override: This list replaces defaults. Remove section to use defaults.
quality_gate:
  reviewers:
    - security-review           # OWASP security scanning
    - pragmatic-rails-reviewer  # Rails conventions and patterns
    - performance-reviewer      # N+1 queries, slow operations
    - test-reviewer             # Test coverage and quality
    # Optional - uncomment to enable:
    # - dhh-code-reviewer       # Strict DHH/37signals Rails style
    # - data-integrity-reviewer # Migration safety (recommended for production)
    # - codex-reviewer          # External LLM (requires Codex CLI)
    # - gemini-reviewer         # External LLM (requires Gemini API)

# Relay Orchestration (optional - configure for non-engineer domains)
# Uncomment and customize if using relay with different quality gate agent
# relay:
#   quality_gate_agent: majestic-engineer:workflow:quality-gate
#   lessons_agent: majestic-engineer:workflow:lessons-discoverer
#   skip_lessons: false
